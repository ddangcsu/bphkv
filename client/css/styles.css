/* ===== Dark theme: 1:1 with your light.css ===== */
/* Enable with: <html data-theme="dark"> */

:root[data-theme='dark'] {
  /* variables only â€” everything else below just overrides your hard-coded light colors */
  --bg: #0b1220;
  --card: #0f172a;
  --muted: #94a3b8;
  --text: #e5e7eb;
  --border: #1f2937;
  --border-strong: #334155;
  --primary: #60a5fa;
  --accent: #34d399;
  --danger: #ef4444;
  --focus: rgba(96, 165, 250, 0.35);
}

/* Global surfaces already use vars, just ensure body/card look right */
:root[data-theme='dark'] body {
  background: var(--bg);
  color: var(--text);
}
:root[data-theme='dark'] .card,
:root[data-theme='dark'] .subpanel,
:root[data-theme='dark'] .row,
:root[data-theme='dark'] .menu-panel,
:root[data-theme='dark'] .form .panel,
:root[data-theme='dark'] .topbar {
  background: var(--card);
  border-color: var(--border);
  color: var(--text);
}

/* Softer shadow on dark */
:root[data-theme='dark'] .card {
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
}

/* TABLE header (light hard-code: #dceaf8) */
:root[data-theme='dark'] .table thead th {
  background: #111827;
  color: var(--text);
  border-color: var(--border);
}

/* TABLE zebra rows (light hard-codes: #ffffff / #edf2fb) */
:root[data-theme='dark'] table.table tbody tr:nth-child(odd) {
  background: #0f172a;
}
:root[data-theme='dark'] table.table tbody tr:nth-child(even) {
  background: #0b1220;
}

/* ROW zebra (light hard-codes: #edf2fb / #ffffff) */
:root[data-theme='dark'] .row:nth-child(odd) {
  background: #0f172a;
}
:root[data-theme='dark'] .row:nth-child(even) {
  background: #0b1220;
}

/* STATUS (light hard-codes) */
:root[data-theme='dark'] .status {
  background: #0f172a; /* instead of #f8fafc */
  color: #cbd5e1; /* was #334155 */
  border-color: transparent;
}
:root[data-theme='dark'] .status[data-variant='success'] {
  background: #052e2a;
  color: #34d399;
}
:root[data-theme='dark'] .status[data-variant='warn'] {
  background: #2a2105;
  color: #fbbf24;
}
:root[data-theme='dark'] .status[data-variant='error'] {
  background: #2a0b0b;
  color: #f87171;
}
:root[data-theme='dark'] .status[data-variant='info'] {
  background: #0a1b36;
  color: #93c5fd;
}

/* ITEM HEADER (light hard-code: #e6e6f8) */
:root[data-theme='dark'] .item-header,
:root[data-theme='dark'] .subpanel > .item-header,
:root[data-theme='dark'] .row > .item-header,
:root[data-theme='dark'] .form .panel > fieldset > .item-header {
  background: #1f2937;
  color: var(--text);
  border-color: var(--border);
}

/* FORMTABS (light hard-codes: #f8fafc, #d9dcf6, #a8b2f6) */
:root[data-theme='dark'] .formtabs {
  border-bottom-color: var(--border);
}
:root[data-theme='dark'] .formtabs button {
  background: #111827; /* base */
  color: var(--muted);
  border-color: var(--border-strong);
}
:root[data-theme='dark'] .formtabs button:hover {
  background: #1b2330; /* hover (was #d9dcf6) */
  color: var(--text);
}
:root[data-theme='dark'] .formtabs .active {
  background: #27314a; /* active (was #a8b2f6) */
  color: var(--text);
  border-color: var(--border-strong);
  box-shadow: 0 1px 0 var(--card), 0 -1px 0 rgba(255, 255, 255, 0.02) inset;
}
:root[data-theme='dark'] .formtabs .active::after {
  background: var(--card);
}

/* INPUTS (borders already from vars; placeholder contrast) */
:root[data-theme='dark'] .input {
  background: #0b1220;
  border-color: var(--border-strong);
  color: var(--text);
}
:root[data-theme='dark'] .input::placeholder,
:root[data-theme='dark'] textarea.input::placeholder {
  color: #74839a;
}

/* DISABLED/READONLY inputs parity on dark */
:root[data-theme='dark'] .input:disabled,
:root[data-theme='dark'] select.input:disabled,
:root[data-theme='dark'] textarea.input:disabled {
  background: #111827;
  border-color: #2b3340;
  color: #9aa0a6;
  -webkit-text-fill-color: #9aa0a6;
}
:root[data-theme='dark'] .input:disabled::placeholder,
:root[data-theme='dark'] textarea.input:disabled::placeholder {
  color: #6b7280;
}
:root[data-theme='dark'] .input[readonly],
:root[data-theme='dark'] textarea.input[readonly] {
  background: #0e1626;
  border-color: #233046;
  color: #c0cad6;
}

/* BUTTONS (your system uses CSS vars; only adjust disabled hard-code #cecfcf) */
:root[data-theme='dark'] .btn:is(:disabled, [aria-disabled='true'], .is-disabled) {
  background: #2b2f36;
  color: #9aa0a6;
  border-color: #2b2f36;
}

/* SEGMENTED control (light hard-codes: white base + #9fb4fa active) */
:root[data-theme='dark'] .seg {
  border-color: var(--border-strong);
}
:root[data-theme='dark'] .seg > button {
  background: #111827;
  color: var(--text);
}
:root[data-theme='dark'] .seg > button.seg-active {
  background: #27314a;
  color: #e5e7eb;
}

/* TABLE inline links maintain brand */
:root[data-theme='dark'] .table a.link {
  color: var(--primary);
}

/* Checkboxes (keep accent, just tweak when disabled) */
:root[data-theme='dark'] .check-lg {
  accent-color: #7aa2ff;
}
:root[data-theme='dark'] .check-lg:disabled {
  filter: none;
  opacity: 0.6;
}

/* Menu panel shadow reads nicer on dark */
:root[data-theme='dark'] .menu-panel {
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.45);
}
